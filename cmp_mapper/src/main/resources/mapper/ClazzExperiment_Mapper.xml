<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hfxt.cmp.mapper.IClazzExperimentDao">
<!-- 新增的方法写在这里 -->


<!-- 保存非空列,返回受影响的行数 -->
	<insert id="saveSelective" useGeneratedKeys="true" keyProperty="Vo.id">
		Insert Into tb_clazz_experiment 
		<trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="Vo.subjectId != null">subject_id,</if>
            <if test="Vo.teacherId != null">teacher_id,</if>
            <if test="Vo.classId != null">class_id,</if>
            <if test="Vo.classExperimentContent != null">class_experiment_content,</if>
            <if test="Vo.classExperimentTime != null">class_experiment_time,</if>
            <if test="Vo.desc != null">desc,</if>
            <if test="Vo.classExperimentPerformance != null">class_experiment_performance,</if>
            <if test="Vo.creatorId != null">creator_id,</if>
             create_time,
            <if test="Vo.updaterId != null">updater_id,</if>
            <if test="Vo.updateTime != null">update_time,</if>
           
		</trim>
		<trim prefix="Values (" suffix=")" suffixOverrides=",">
            <if test="Vo.subjectId != null">#{Vo.subjectId},</if>
            <if test="Vo.teacherId != null">#{Vo.teacherId},</if>
            <if test="Vo.classId != null">#{Vo.classId},</if>
            <if test="Vo.classExperimentContent != null">#{Vo.classExperimentContent},</if>
            <if test="Vo.classExperimentTime != null">#{Vo.classExperimentTime},</if>
            <if test="Vo.desc != null">#{Vo.desc},</if>
            <if test="Vo.classExperimentPerformance != null">#{Vo.classExperimentPerformance},</if>
            <if test="Vo.creatorId != null">#{Vo.creatorId},</if>
            now(),
            <if test="Vo.updaterId != null">#{Vo.updaterId},</if>
            <if test="Vo.updateTime != null">#{Vo.updateTime},</if>
            
		</trim>
	</insert>
    
    <!-- 根据主键删除-->
	<delete id="delete">
		Delete From tb_clazz_experiment
		Where id = #{id}
	</delete>
    
    <!-- 删除所有记录,返回受影响的行数 -->
	<delete id="deleteAll">
		Delete From tb_clazz_experiment
	</delete>
    
    <!-- 更新非空列,返回受影响的行数 -->
	<update id="updateSelective">
		Update tb_clazz_experiment
		<trim prefix="Set" suffixOverrides=",">
            <if test="Vo.subjectId != null">subject_id = #{Vo.subjectId},</if>
            <if test="Vo.teacherId != null">teacher_id = #{Vo.teacherId},</if>
            <if test="Vo.classId != null">class_id = #{Vo.classId},</if>
            <if test="Vo.classExperimentContent != null">class_experiment_content = #{Vo.classExperimentContent},</if>
            <if test="Vo.classExperimentTime != null">class_experiment_time = #{Vo.classExperimentTime},</if>
            <if test="Vo.desc != null">desc = #{Vo.desc},</if>
            <if test="Vo.classExperimentPerformance != null">class_experiment_performance = #{Vo.classExperimentPerformance},</if>
            <if test="Vo.creatorId != null">creator_id = #{Vo.creatorId},</if>
            <if test="Vo.createTime != null">create_time = #{Vo.createTime},</if>
            <if test="Vo.updaterId != null">updater_id = #{Vo.updaterId},</if>
            <if test="Vo.updateTime != null">update_time = #{Vo.updateTime},</if>
		</trim>
		Where tb_clazz_experiment.id = #{Vo.id}
	</update>
    
    <resultMap type="ClazzExperimentVo" id="RM_Default">
        <id column="ClazzExperiment_id" property="id"/>
        <result column="ClazzExperiment_subjectId" property="subjectId"/>
        <result column="ClazzExperiment_teacherId" property="teacherId"/>
        <result column="ClazzExperiment_classId" property="classId"/>
        <result column="ClazzExperiment_classExperimentContent" property="classExperimentContent"/>
        <result column="ClazzExperiment_classExperimentTime" property="classExperimentTime"/>
        <result column="ClazzExperiment_desc" property="desc"/>
        <result column="ClazzExperiment_classExperimentPerformance" property="classExperimentPerformance"/>
        <result column="ClazzExperiment_creatorId" property="creatorId"/>
        <result column="ClazzExperiment_createTime" property="createTime"/>
        <result column="ClazzExperiment_updaterId" property="updaterId"/>
        <result column="ClazzExperiment_updateTime" property="updateTime"/>
	</resultMap>
    
     <!-- ResultMap -->
	<resultMap type="ClazzExperimentVo" id="RM_getVo_Auto">
		<discriminator javaType="int" column="_chooseRM">
			<case value="0" resultMap="RM_Default" /><!-- Auto -->
		</discriminator>
	</resultMap>
    
    <!-- 根据主键查询一条记录,通过'__chooseRM'控制返回的列 -->
	<select id="getVo_Auto" resultMap="RM_getVo_Auto">
		Select
		<include refid="Sql_SelectColumns" />
		#{chooseRM} As _chooseRM
		From	tb_clazz_experiment	As	tb_clazz_experiment
		Where
		tb_clazz_experiment.id = #{id}
	</select>
    
    <!-- 传入id,判断是否存在该记录 -->
	<select id="isExist_Auto" resultType="boolean">
		Select Count(id) > 0
		From	tb_clazz_experiment	As	tb_clazz_experiment
		Where
		tb_clazz_experiment.id = #{id}
	</select>
    
    <!-- 查询记录数量 -->
	<select id="queryCount_Auto" resultType="Long">
		Select Count(tb_clazz_experiment.id)
		From	tb_clazz_experiment	As	tb_clazz_experiment
        <trim prefix="Where" prefixOverrides="And | Or">
			<include refid="Sql_Where"/>
		</trim>
	</select>
    
    <resultMap type="ClazzExperimentVo" id="RM_queryVos_Auto">
        <discriminator javaType="int" column="_chooseRM">
			<case value="0" resultMap="RM_Default" /><!-- Auto -->
		</discriminator>
	</resultMap>
    
    <!-- 查询记录集合,通过'__chooseRM'控制返回的列 -->
	<select id="queryVos_Auto" resultMap="RM_queryVos_Auto">
		Select
		<include refid="Sql_SelectColumns"/>
		#{ClazzExperimentSearch.chooseRM} As _chooseRM
		From	tb_clazz_experiment	As	tb_clazz_experiment
        <trim prefix="Where" prefixOverrides="And | Or">
			<include refid="Sql_Where"/>
		</trim>
		<include refid="Sql_Order"/>
		Limit #{ClazzExperimentSearch.offset},#{ClazzExperimentSearch.limit}
	</select>
    

    <resultMap type="ClazzExperimentVo" id="RM_getVo_AdminView">
		<!-- <discriminator javaType="int" column="_chooseRM"> -->
        <id column="ClazzExperiment_id" property="id"/>
        <result column="ClazzExperiment_subjectId" property="subjectId"/>
        <result column="ClazzExperiment_teacherId" property="teacherId"/>
        <result column="ClazzExperiment_classId" property="classId"/>
        <result column="ClazzExperiment_classExperimentContent" property="classExperimentContent"/>
        <result column="ClazzExperiment_classExperimentTime" property="classExperimentTime"/>
        <result column="ClazzExperiment_desc" property="desc"/>
        <result column="ClazzExperiment_classExperimentPerformance" property="classExperimentPerformance"/>
        <result column="ClazzExperiment_creatorId" property="creatorId"/>
        <result column="ClazzExperiment_createTime" property="createTime"/>
        <result column="ClazzExperiment_updaterId" property="updaterId"/>
        <result column="ClazzExperiment_updateTime" property="updateTime"/>
		<!-- </discriminator> -->
	</resultMap>
    
    <!-- 根据主键查询一条记录,专供AdminView调用 -->
	<select id="getVo_AdminView" resultMap="RM_getVo_AdminView">
		Select
		<include refid="Sql_SelectColumns" />
		#{chooseRM} As _chooseRM
		From	tb_clazz_experiment	As	tb_clazz_experiment
		Where
		tb_clazz_experiment.id = #{id}
	</select>
    
    <resultMap type="ClazzExperimentVo" id="RM_getVo_preAdminEdit">
		<!-- <discriminator javaType="int" column="_chooseRM"> -->
        <id column="ClazzExperiment_id" property="id"/>
        <result column="ClazzExperiment_subjectId" property="subjectId"/>
        <result column="ClazzExperiment_teacherId" property="teacherId"/>
        <result column="ClazzExperiment_classId" property="classId"/>
        <result column="ClazzExperiment_classExperimentContent" property="classExperimentContent"/>
        <result column="ClazzExperiment_classExperimentTime" property="classExperimentTime"/>
        <result column="ClazzExperiment_desc" property="desc"/>
        <result column="ClazzExperiment_classExperimentPerformance" property="classExperimentPerformance"/>
        <result column="ClazzExperiment_creatorId" property="creatorId"/>
        <result column="ClazzExperiment_createTime" property="createTime"/>
        <result column="ClazzExperiment_updaterId" property="updaterId"/>
        <result column="ClazzExperiment_updateTime" property="updateTime"/>
		<!-- </discriminator> -->
	</resultMap>
    
    <!-- 根据主键查询一条记录,专供preAdminEdit调用 -->
	<select id="getVo_preAdminEdit" resultMap="RM_getVo_preAdminEdit">
		Select
		<include refid="Sql_SelectColumns" />
		#{chooseRM} As _chooseRM
		From	tb_clazz_experiment	As	tb_clazz_experiment
		Where
		tb_clazz_experiment.id = #{id}
	</select>
    
    <resultMap type="ClazzExperimentVo" id="RM_getVo_AdminEdit">
		<!-- <discriminator javaType="int" column="_chooseRM"> -->
        <id column="ClazzExperiment_id" property="id"/>
        <result column="ClazzExperiment_subjectId" property="subjectId"/>
        <result column="ClazzExperiment_teacherId" property="teacherId"/>
        <result column="ClazzExperiment_classId" property="classId"/>
        <result column="ClazzExperiment_classExperimentContent" property="classExperimentContent"/>
        <result column="ClazzExperiment_classExperimentTime" property="classExperimentTime"/>
        <result column="ClazzExperiment_desc" property="desc"/>
        <result column="ClazzExperiment_classExperimentPerformance" property="classExperimentPerformance"/>
        <result column="ClazzExperiment_creatorId" property="creatorId"/>
        <result column="ClazzExperiment_createTime" property="createTime"/>
        <result column="ClazzExperiment_updaterId" property="updaterId"/>
        <result column="ClazzExperiment_updateTime" property="updateTime"/>
		<!-- </discriminator> -->
	</resultMap>
    
    <!-- 根据主键查询一条记录,专供AdminEdit调用 -->
	<select id="getVo_AdminEdit" resultMap="RM_getVo_AdminEdit">
		Select
		<include refid="Sql_SelectColumns" />
		#{chooseRM} As _chooseRM
		From	tb_clazz_experiment	As	tb_clazz_experiment
		Where
		tb_clazz_experiment.id = #{id}
	</select>
    
    <resultMap type="ClazzExperimentVo" id="RM_queryVos_AdminList">
		<!-- <discriminator javaType="int" column="_chooseRM"> -->
        <id column="ClazzExperiment_id" property="id"/>
        <result column="ClazzExperiment_subjectId" property="subjectId"/>
        <result column="ClazzExperiment_teacherId" property="teacherId"/>
        <result column="ClazzExperiment_classId" property="classId"/>
        <result column="ClazzExperiment_classExperimentContent" property="classExperimentContent"/>
        <result column="ClazzExperiment_classExperimentTime" property="classExperimentTime"/>
        <result column="ClazzExperiment_desc" property="desc"/>
        <result column="ClazzExperiment_classExperimentPerformance" property="classExperimentPerformance"/>
        <result column="ClazzExperiment_creatorId" property="creatorId"/>
        <result column="ClazzExperiment_createTime" property="createTime"/>
        <result column="ClazzExperiment_updaterId" property="updaterId"/>
        <result column="ClazzExperiment_updateTime" property="updateTime"/>
		<!-- </discriminator> -->
	</resultMap>
    
    <sql id="Sql_SelectColumns">
        tb_clazz_experiment.id As ClazzExperiment_id,
        tb_clazz_experiment.subject_id As ClazzExperiment_subjectId,
        tb_clazz_experiment.teacher_id As ClazzExperiment_teacherId,
        tb_clazz_experiment.class_id As ClazzExperiment_classId,
        tb_clazz_experiment.class_experiment_content As ClazzExperiment_classExperimentContent,
        tb_clazz_experiment.class_experiment_time As ClazzExperiment_classExperimentTime,
        tb_clazz_experiment.desc As ClazzExperiment_desc,
        tb_clazz_experiment.class_experiment_performance As ClazzExperiment_classExperimentPerformance,
        tb_clazz_experiment.creator_id As ClazzExperiment_creatorId,
        tb_clazz_experiment.create_time As ClazzExperiment_createTime,
        tb_clazz_experiment.updater_id As ClazzExperiment_updaterId,
        tb_clazz_experiment.update_time As ClazzExperiment_updateTime,
	</sql>
    
    <sql id="Sql_Order">
		<trim prefix="Order By ">
    		<choose>
                <when test="ClazzExperimentSearch.sort != null">
                    ClazzExperiment_${ClazzExperimentSearch.sort} 
                    <if test="ClazzExperimentSearch.order != null">
                        ${ClazzExperimentSearch.order}
                    </if>
                </when>
                <otherwise>
                    ClazzExperiment_id Desc
                </otherwise>
            </choose>
		</trim>
	</sql>
    
    <sql id="Sql_Where">
        <if test="ClazzExperimentSearch.eqId != null">
			<![CDATA[ And tb_clazz_experiment.id = #{ClazzExperimentSearch.eqId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neId != null">
			<![CDATA[ And tb_clazz_experiment.id != #{ClazzExperimentSearch.neId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqSubjectId != null">
			<![CDATA[ And tb_clazz_experiment.subject_id = #{ClazzExperimentSearch.eqSubjectId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neSubjectId != null">
			<![CDATA[ And tb_clazz_experiment.subject_id != #{ClazzExperimentSearch.neSubjectId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqTeacherId != null">
			<![CDATA[ And tb_clazz_experiment.teacher_id = #{ClazzExperimentSearch.eqTeacherId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neTeacherId != null">
			<![CDATA[ And tb_clazz_experiment.teacher_id != #{ClazzExperimentSearch.neTeacherId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqClassId != null">
			<![CDATA[ And tb_clazz_experiment.class_id = #{ClazzExperimentSearch.eqClassId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neClassId != null">
			<![CDATA[ And tb_clazz_experiment.class_id != #{ClazzExperimentSearch.neClassId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqClassExperimentContent != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_content = #{ClazzExperimentSearch.eqClassExperimentContent} ]]>
		</if>
		<if test="ClazzExperimentSearch.lkClassExperimentContent != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_content Like '%${ClazzExperimentSearch.lkClassExperimentContent}%' ]]>
		</if>
        <if test="ClazzExperimentSearch.eqClassExperimentTime != null">
			<![CDATA[ And date_format(tb_clazz_experiment.class_experiment_time,'%Y-%m-%d') = date_format(#{ClazzExperimentSearch.eqClassExperimentTime},'%Y-%m-%d') ]]>
		</if>
		<if test="ClazzExperimentSearch.geClassExperimentTime != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_time >= #{ClazzExperimentSearch.geClassExperimentTime} ]]>
		</if>
		<if test="ClazzExperimentSearch.ltClassExperimentTime != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_time < #{ClazzExperimentSearch.ltClassExperimentTime} ]]>
		</if>
        
        <if test="ClazzExperimentSearch.eqDesc != null">
			<![CDATA[ And tb_clazz_experiment.desc = #{ClazzExperimentSearch.eqDesc} ]]>
		</if>
		<if test="ClazzExperimentSearch.lkDesc != null">
			<![CDATA[ And tb_clazz_experiment.desc Like '%${ClazzExperimentSearch.lkDesc}%' ]]>
		</if>
        <if test="ClazzExperimentSearch.eqClassExperimentPerformance != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_performance = #{ClazzExperimentSearch.eqClassExperimentPerformance} ]]>
		</if>
		<if test="ClazzExperimentSearch.lkClassExperimentPerformance != null">
			<![CDATA[ And tb_clazz_experiment.class_experiment_performance Like '%${ClazzExperimentSearch.lkClassExperimentPerformance}%' ]]>
		</if>
        <if test="ClazzExperimentSearch.eqCreatorId != null">
			<![CDATA[ And tb_clazz_experiment.creator_id = #{ClazzExperimentSearch.eqCreatorId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neCreatorId != null">
			<![CDATA[ And tb_clazz_experiment.creator_id != #{ClazzExperimentSearch.neCreatorId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqCreateTime != null">
			<![CDATA[ And date_format(tb_clazz_experiment.create_time,'%Y-%m-%d') = date_format(#{ClazzExperimentSearch.eqCreateTime},'%Y-%m-%d') ]]>
		</if>
		<if test="ClazzExperimentSearch.geCreateTime != null">
			<![CDATA[ And tb_clazz_experiment.create_time >= #{ClazzExperimentSearch.geCreateTime} ]]>
		</if>
		<if test="ClazzExperimentSearch.ltCreateTime != null">
			<![CDATA[ And tb_clazz_experiment.create_time < #{ClazzExperimentSearch.ltCreateTime} ]]>
		</if>
        
        <if test="ClazzExperimentSearch.eqUpdaterId != null">
			<![CDATA[ And tb_clazz_experiment.updater_id = #{ClazzExperimentSearch.eqUpdaterId} ]]>
		</if>
		<if test="ClazzExperimentSearch.neUpdaterId != null">
			<![CDATA[ And tb_clazz_experiment.updater_id != #{ClazzExperimentSearch.neUpdaterId} ]]>
		</if>
        <if test="ClazzExperimentSearch.eqUpdateTime != null">
			<![CDATA[ And date_format(tb_clazz_experiment.update_time,'%Y-%m-%d') = date_format(#{ClazzExperimentSearch.eqUpdateTime},'%Y-%m-%d') ]]>
		</if>
		<if test="ClazzExperimentSearch.geUpdateTime != null">
			<![CDATA[ And tb_clazz_experiment.update_time >= #{ClazzExperimentSearch.geUpdateTime} ]]>
		</if>
		<if test="ClazzExperimentSearch.ltUpdateTime != null">
			<![CDATA[ And tb_clazz_experiment.update_time < #{ClazzExperimentSearch.ltUpdateTime} ]]>
		</if>
        
    </sql>
</mapper>


